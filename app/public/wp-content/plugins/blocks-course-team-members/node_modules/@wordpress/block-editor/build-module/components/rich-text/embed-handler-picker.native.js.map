{"version":3,"sources":["@wordpress/block-editor/src/components/rich-text/embed-handler-picker.native.js"],"names":["noop","forwardRef","useRef","useImperativeHandle","memo","useCallback","Picker","__","DEFAULT_PICKER_OPTIONS","id","label","value","onSelect","EmbedHandlerPicker","ref","pickerRef","pickerOptions","current","onPickerSelect","selectedItem","find","item","presentPicker","createEmbed","createLink"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,IAAT,QAAqB,QAArB;AAEA;AACA;AACA;;AACA,SACCC,UADD,EAECC,MAFD,EAGCC,mBAHD,EAICC,IAJD,EAKCC,WALD,QAMO,oBANP;AAOA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,EAAT,QAAmB,iBAAnB;AAEA,MAAMC,sBAAsB,GAAG,CAC9B;AACCC,EAAAA,EAAE,EAAE,aADL;AAECC,EAAAA,KAAK,EAAEH,EAAE,CAAE,cAAF,CAFV;AAGCI,EAAAA,KAAK,EAAE,aAHR;AAICC,EAAAA,QAAQ,EAAEZ;AAJX,CAD8B,EAO9B;AACCS,EAAAA,EAAE,EAAE,YADL;AAECC,EAAAA,KAAK,EAAEH,EAAE,CAAE,aAAF,CAFV;AAGCI,EAAAA,KAAK,EAAE,YAHR;AAICC,EAAAA,QAAQ,EAAEZ;AAJX,CAP8B,CAA/B;AAeA,MAAMa,kBAAkB,GAAGZ,UAAU,CAAE,OAAMa,GAAN,KAAe;AAAA,MAAb,EAAa;AACrD,QAAMC,SAAS,GAAGb,MAAM,EAAxB;AACA,QAAMc,aAAa,GAAGd,MAAM,CAAEM,sBAAF,CAAN,CAAiCS,OAAvD;AAEA,QAAMC,cAAc,GAAGb,WAAW,CAC/BM,KAAF,IAAa;AACZ,UAAMQ,YAAY,GAAGH,aAAa,CAACI,IAAd,CAClBC,IAAF,IAAYA,IAAI,CAACV,KAAL,KAAeA,KADP,CAArB;AAGAQ,IAAAA,YAAY,CAACP,QAAb;AACA,GANgC,EAOjC,CAAEI,aAAF,CAPiC,CAAlC;AAUAb,EAAAA,mBAAmB,CAAEW,GAAF,EAAO,OAAQ;AACjCQ,IAAAA,aAAa,EAAE,SAAmC;AAAA;;AAAA,UAAjC;AAAEC,QAAAA,WAAF;AAAeC,QAAAA;AAAf,OAAiC;AACjDR,MAAAA,aAAa,CAAE,CAAF,CAAb,CAAmBJ,QAAnB,GAA8BW,WAA9B;AACAP,MAAAA,aAAa,CAAE,CAAF,CAAb,CAAmBJ,QAAnB,GAA8BY,UAA9B;AACA,4BAAAT,SAAS,CAACE,OAAV,0EAAmBK,aAAnB;AACA;AALgC,GAAR,CAAP,CAAnB;AAQA,SACC,cAAC,MAAD;AACC,IAAA,GAAG,EAAGP,SADP;AAEC,IAAA,OAAO,EAAGC,aAFX;AAGC,IAAA,QAAQ,EAAGE,cAHZ;AAIC,IAAA,MAAM,EAAC,sBAJR;AAKC,IAAA,gBAAgB,MALjB;AAMC,IAAA,SAAS;AANV,IADD;AAUA,CAhCoC,CAArC;AAkCA,eAAed,IAAI,CAAES,kBAAF,CAAnB","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tforwardRef,\n\tuseRef,\n\tuseImperativeHandle,\n\tmemo,\n\tuseCallback,\n} from '@wordpress/element';\nimport { Picker } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst DEFAULT_PICKER_OPTIONS = [\n\t{\n\t\tid: 'createEmbed',\n\t\tlabel: __( 'Create embed' ),\n\t\tvalue: 'createEmbed',\n\t\tonSelect: noop,\n\t},\n\t{\n\t\tid: 'createLink',\n\t\tlabel: __( 'Create link' ),\n\t\tvalue: 'createLink',\n\t\tonSelect: noop,\n\t},\n];\n\nconst EmbedHandlerPicker = forwardRef( ( {}, ref ) => {\n\tconst pickerRef = useRef();\n\tconst pickerOptions = useRef( DEFAULT_PICKER_OPTIONS ).current;\n\n\tconst onPickerSelect = useCallback(\n\t\t( value ) => {\n\t\t\tconst selectedItem = pickerOptions.find(\n\t\t\t\t( item ) => item.value === value\n\t\t\t);\n\t\t\tselectedItem.onSelect();\n\t\t},\n\t\t[ pickerOptions ]\n\t);\n\n\tuseImperativeHandle( ref, () => ( {\n\t\tpresentPicker: ( { createEmbed, createLink } ) => {\n\t\t\tpickerOptions[ 0 ].onSelect = createEmbed;\n\t\t\tpickerOptions[ 1 ].onSelect = createLink;\n\t\t\tpickerRef.current?.presentPicker();\n\t\t},\n\t} ) );\n\n\treturn (\n\t\t<Picker\n\t\t\tref={ pickerRef }\n\t\t\toptions={ pickerOptions }\n\t\t\tonChange={ onPickerSelect }\n\t\t\ttestID=\"embed-handler-picker\"\n\t\t\thideCancelButton\n\t\t\tleftAlign\n\t\t/>\n\t);\n} );\n\nexport default memo( EmbedHandlerPicker );\n"]}