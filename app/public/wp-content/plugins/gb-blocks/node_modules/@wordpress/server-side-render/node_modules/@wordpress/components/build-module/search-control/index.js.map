{"version":3,"sources":["@wordpress/components/src/search-control/index.js"],"names":["classnames","useInstanceId","__","Icon","search","closeSmall","forwardRef","Button","BaseControl","useCombinedRef","SearchControl","className","onChange","onKeyDown","value","label","placeholder","hideLabelFromVision","help","onClose","ref","instanceId","searchInput","id","renderRightButton","current","focus","event","target"],"mappings":";;AAAA;AACA;AACA;AACA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;AACA;AACA;;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,UAAvB,QAAyC,kBAAzC;AACA,SAASC,UAAT,QAA2B,oBAA3B;AAEA;AACA;AACA;;AACA,SAASC,MAAT,QAAuB,KAAvB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,SAASC,cAAT,QAA+B,UAA/B;;AAEA,SAASC,aAAT,CACC;AACCC,EAAAA,SADD;AAECC,EAAAA,QAFD;AAGCC,EAAAA,SAHD;AAICC,EAAAA,KAJD;AAKCC,EAAAA,KALD;AAMCC,EAAAA,WAAW,GAAGd,EAAE,CAAE,QAAF,CANjB;AAOCe,EAAAA,mBAAmB,GAAG,IAPvB;AAQCC,EAAAA,IARD;AASCC,EAAAA;AATD,CADD,EAYCC,GAZD,EAaE;AACD,QAAMC,UAAU,GAAGpB,aAAa,CAAES,aAAF,CAAhC;AACA,QAAMY,WAAW,GAAGb,cAAc,CAAEW,GAAF,CAAlC;AACA,QAAMG,EAAE,GAAI,6BAA6BF,UAAY,EAArD;;AAEA,QAAMG,iBAAiB,GAAG,MAAM;AAC/B,QAAKL,OAAL,EAAe;AACd,aACC,cAAC,MAAD;AACC,QAAA,IAAI,EAAGd,UADR;AAEC,QAAA,KAAK,EAAGH,EAAE,CAAE,cAAF,CAFX;AAGC,QAAA,OAAO,EAAGiB;AAHX,QADD;AAOA;;AAED,QAAK,CAAC,CAAEL,KAAR,EAAgB;AACf,aACC,cAAC,MAAD;AACC,QAAA,IAAI,EAAGT,UADR;AAEC,QAAA,KAAK,EAAGH,EAAE,CAAE,cAAF,CAFX;AAGC,QAAA,OAAO,EAAG,MAAM;AACfU,UAAAA,QAAQ,CAAE,EAAF,CAAR;AACAU,UAAAA,WAAW,CAACG,OAAZ,CAAoBC,KAApB;AACA;AANF,QADD;AAUA;;AAED,WAAO,cAAC,IAAD;AAAM,MAAA,IAAI,EAAGtB;AAAb,MAAP;AACA,GAzBD;;AA2BA,SACC,cAAC,WAAD;AACC,IAAA,KAAK,EAAGW,KADT;AAEC,IAAA,EAAE,EAAGQ,EAFN;AAGC,IAAA,mBAAmB,EAAGN,mBAHvB;AAIC,IAAA,IAAI,EAAGC,IAJR;AAKC,IAAA,SAAS,EAAGlB,UAAU,CAAEW,SAAF,EAAa,2BAAb;AALvB,KAOC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC;AACC,IAAA,GAAG,EAAGW,WADP;AAEC,IAAA,SAAS,EAAC,kCAFX;AAGC,IAAA,EAAE,EAAGC,EAHN;AAIC,IAAA,IAAI,EAAC,QAJN;AAKC,IAAA,WAAW,EAAGP,WALf;AAMC,IAAA,QAAQ,EAAKW,KAAF,IAAaf,QAAQ,CAAEe,KAAK,CAACC,MAAN,CAAad,KAAf,CANjC;AAOC,IAAA,SAAS,EAAGD,SAPb;AAQC,IAAA,YAAY,EAAC,KARd;AASC,IAAA,KAAK,EAAGC,KAAK,IAAI;AATlB,IADD,EAYC;AAAK,IAAA,SAAS,EAAC;AAAf,KACGU,iBAAiB,EADpB,CAZD,CAPD,CADD;AA0BA;;AAED,eAAelB,UAAU,CAAEI,aAAF,CAAzB","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, search, closeSmall } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Button } from '../';\nimport BaseControl from '../base-control';\nimport { useCombinedRef } from '../utils';\n\nfunction SearchControl(\n\t{\n\t\tclassName,\n\t\tonChange,\n\t\tonKeyDown,\n\t\tvalue,\n\t\tlabel,\n\t\tplaceholder = __( 'Search' ),\n\t\thideLabelFromVision = true,\n\t\thelp,\n\t\tonClose,\n\t},\n\tref\n) {\n\tconst instanceId = useInstanceId( SearchControl );\n\tconst searchInput = useCombinedRef( ref );\n\tconst id = `components-search-control-${ instanceId }`;\n\n\tconst renderRightButton = () => {\n\t\tif ( onClose ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close search' ) }\n\t\t\t\t\tonClick={ onClose }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tif ( !! value ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Reset search' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\tsearchInput.current.focus();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn <Icon icon={ search } />;\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\tlabel={ label }\n\t\t\tid={ id }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\thelp={ help }\n\t\t\tclassName={ classnames( className, 'components-search-control' ) }\n\t\t>\n\t\t\t<div className=\"components-search-control__input-wrapper\">\n\t\t\t\t<input\n\t\t\t\t\tref={ searchInput }\n\t\t\t\t\tclassName=\"components-search-control__input\"\n\t\t\t\t\tid={ id }\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tonChange={ ( event ) => onChange( event.target.value ) }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t/>\n\t\t\t\t<div className=\"components-search-control__icon\">\n\t\t\t\t\t{ renderRightButton() }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseControl>\n\t);\n}\n\nexport default forwardRef( SearchControl );\n"]}